import{A as e,y as t,u as l,a,b as s,R as r,T as o,c as n,P as i,q as c,t as d,F as h,d as f,e as u,f as p,g as m,h as x,B as w,k as v,i as g,I as b,j as N,l as _,m as y,D as k}from"./vendor.WVCr5W2o.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const F=()=>!window.invokeNative,j=()=>{},B=(l,a)=>{const s=e(j);t((()=>{s.current=a}),[a]),t((()=>{const e=e=>{const{action:t,data:a}=e.data;s.current&&t===l&&s.current(a)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)}),[l])},I=a({health:100,armor:100,hunger:50,thirst:100,stress:0,voice:50,streetLabel:"Downtown Vinewood",areaLabel:"Vinewood Blvd",heading:"NW",isSeatbeltOn:!1,isInVehicle:!0,mic:!0}),$=()=>l(I),M=a({speed:42,rpm:20,engineState:!0,engineHealth:50,gears:8,fuel:50,nos:40});let C=!1;const L=(...e)=>{F()},S=r.memo((function({speed:l=50,maxRpm:a=100,rpm:s=20,gears:r=8,engineHealth:c=50}){const d=o((()=>s/a*100),[s,a]),h=e(null),f=(e,t,l,a)=>{const s=(a-90)*Math.PI/180;return{x:e+l*Math.cos(s),y:t+l*Math.sin(s)}},u=o((()=>(e,t,l,a,s)=>{const r=f(e,t,l,a),o=f(e,t,l,s),n=s-a<=180?"0":"1";return["M",r.x,r.y,"A",l,l,0,n,1,o.x,o.y].join(" ")}),[]),p=o((()=>(e,t,l,a,s)=>{const r=f(e,t,l,s),o=f(e,t,a,s);return`M ${r.x} ${r.y} L ${o.x} ${o.y}`}),[]);t((()=>{if(h.current){const e=h.current.getTotalLength(),t=e*(1-d/100);h.current.style.strokeDasharray=`${e} ${e}`,h.current.style.strokeDashoffset=`${t}`}}),[d]);const m=o((()=>[...Array(r)].map(((e,t)=>n("g",{children:n("path",{d:p(0,0,36,43,240*t/(r-1)-120),stroke:"#ffffff",strokeWidth:"3",opacity:"100",strokeLinecap:"round"})},`gear-${t}`)))),[r,p]);return n("div",{className:"w-60 2k:w-[15dvw] 2k:h-[21dvh] 4k:w-[10dvw] 4k:h-[20dvh] h-64 relative flex items-center justify-center -mb-20 z-0",children:[n("svg",{viewBox:"-50 -50 100 100",preserveAspectRatio:"xMidYMid meet",className:"w-full h-full",children:[n("defs",{children:n("filter",{id:"glow",children:[n("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),n("feMerge",{children:[n("feMergeNode",{in:"coloredBlur"}),n("feMergeNode",{in:"SourceGraphic"})]})]})}),n("g",{filter:"url(#glow)",children:[n("path",{d:u(0,0,40,-120,120),fill:"none",stroke:"#11181a27",strokeWidth:"5"}),n("path",{ref:h,d:u(0,0,40,-120,120),fill:"none",strokeWidth:"5",className:"transition-all duration-300 ease-in-out",style:{stroke:d>=90?"#fe2436":d>=85?"#FB8607":"#06CE6B"}})]}),m]}),n("div",{className:"absolute inset-0 flex items-center justify-center",children:n("div",{className:"text-center flex flex-col",children:[n("span",{className:"text-[2vw] font-bold text-white tabular-nums drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)]",children:l}),n("span",{className:"text-[1vw] -mt-1 font-semibold text-gray-400 drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)]",children:"MPH"}),c<30&&n("div",{className:"flex items-center justify-center *:drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)] *:size-[0.9vw] *:text-red-600 mt-1",children:n(i,{})})]})})]})})),E=({value:e=50,label:t="FUEL",color:l="#06CE6B",...a})=>{const s=o((()=>e<=20?"#FE2436":e<=50?"#FB8607":l),[l,e]);return n("div",{className:"flex flex-col items-center justify-center w-[2.5dvw] h-[4dvh] -skew-x-[10deg]",...a,children:[n("h1",{className:"uppercase text-[0.8vw] font-geist drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)] font-bold",children:t}),n("div",{className:"relative w-[80%] bg-black/20 shadow h-[3.5px] 4k:h-[5px] 4k:mt-1 rounded-full drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)]",children:n("div",{className:"absolute max-w-full transition-all rounded-full shadow left-0 h-full z-20 ",style:{width:`${e}%`,backgroundColor:s}})})]})},O=r.memo((function(){const[e,t]=s(M),l=$(),a=c((e=>{t((t=>JSON.stringify(t)!==JSON.stringify(e)?e:t))}),[t]);return B("state::vehicle::set",a),o((()=>l.isInVehicle?n("div",{className:"absolute bottom-8 right-16 w-fit h-fit mb-4 flex-col items-center flex justify-center gap-2",style:{transform:"perspective(1000px) rotateY(-12deg)",backfaceVisibility:"hidden",transformStyle:"preserve-3d",willChange:"transform"},children:[n(S,{rpm:e.rpm,speed:e.speed,gears:e.gears,engineHealth:e.engineHealth,maxRpm:100}),n("div",{className:"flex gap-2 items-center mr-2 4k:-mt-14",children:[n(E,{label:"FUEL",value:e.fuel}),n(E,{label:"NOS",value:e.nos}),n(E,{label:"ENG",value:e.engineState?100:0}),n(E,{label:"BELT",value:l.isSeatbeltOn?100:0})]})]}):(L(),null)),[l.isInVehicle,e,l.isSeatbeltOn])})),A=({Icon:e=h,label:t="NW",className:l="",textClassName:a="",iconClassName:s="",...r})=>n("div",{className:d("flex items-center h-[2.5dvh] justify-center text-y_white bg-black/30 rounded-[8px] p-[1px] min-w-[5dvw]",l),...r,children:[n(e,{className:d("mr-2 drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)] text-[0.8vw]",s)}),n("p",{className:d("text-center text-y_white font-bold text-[0.7vw] drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)]",a),style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t})]}),V=a("top"),W=r.memo((()=>{const e=$(),t=l(V);return e.isInVehicle?n("div",{className:"bottom"===t?"flex absolute bottom-1 w-full h-fit items-center justify-center ":"flex w-full h-[10dvh] items-center justify-center",children:n("div",{className:"flex gap-3 items-center justify-center w-[50%]",children:[n(A,{label:e.heading,Icon:f}),n(A,{label:e.streetLabel,className:"min-w-[20%]",Icon:u}),n(A,{className:"px-3",label:e.areaLabel,Icon:p})]})}):null})),J=a({height:197.64,left:20.000002026557922,top:800.9999979734421,width:314.496}),P=({Icon:e=x,value:t=20,maxValue:l=100,color:a="#F2F2F2",vertical:s=!1,...r})=>{const i=o((()=>t/l*100),[t,l]);return n("div",{className:`flex ${s?"h-[3dvh]":"w-full"} items-center gap-1 4k:gap-2`,...r,children:[!s&&n(e,{className:"text-y_white text-[1vw] "}),!s&&n("p",{className:"text-[0.6vw] drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)] w-[20px] 4k:text-base 2k:text-sm text-center font-bold",style:{color:a},children:t}),n("div",{className:`relative drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)] ${s?"h-full 2k:w-[6px] w-[4px] 4k:w-[8px] rounded-full":"w-full ml-1 h-2 2k:h-3"} bg-black/30  rounded-[1px] overflow-hidden`,children:n("div",{className:`absolute ${s?"bottom-0 w-full":"left-0 h-full"} transition-all bg-red-500 rounded-[1px] ease-in-out`,style:{backgroundColor:a,[s?"height":"width"]:`${i}%`}})}),s&&n(e,{className:"text-y_white drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)] text-[0.8vw]"})]})},R=({Icon:e=x,value:t=20,color:l="#F2F2F2",...a})=>{const s=o((()=>Array.from({length:4},((e,l)=>t>=100*(l+1)/4?100:t>100*l/4?(t-100*l/4)/25*100:0))),[t,4,25]);return n("div",{className:"flex items-center gap-1 w-full 4k:gap-2",...a,children:[n(e,{className:"text-y_white text-[1vw] drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)]"}),n("p",{className:"text-[0.6vw] w-[20px] text-center drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)] font-bold",style:{color:l},children:t}),n("div",{className:"relative flex gap-3 *:drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,1)] w-full ml-1 h-[8px] 2k:h-3 rounded-[1px]",children:s.map(((e,t)=>n("svg",{width:"100%",height:"100%",className:"rounded-full ",viewBox:"0 0 100 24",preserveAspectRatio:"none",children:[n("rect",{x:"0",y:"0",width:"100",height:"24",className:"fill-black/30"}),n("rect",{x:"0",y:"0",width:e,height:"24",fill:l,className:"transition-all"})]},t)))})]})},z=r.memo((()=>{const[e,t]=s(I),[l,a]=s(J),r=c((e=>{t((t=>JSON.stringify(t)!==JSON.stringify(e)?e:t))}),[t]);B("state::global::set",(e=>{r(e.player),a(e.minimap)}));const i=o((()=>void 0!==e.hunger||void 0!==e.thirst),[e]);return n(v,{children:n("div",{class:"absolute items-end justify-center z-20 flex",style:{top:l.top+"px",left:l.left+"px",minWidth:l.width+"px",height:l.height+"px"},children:n("div",{className:"w-full h-full relative",children:n("div",{className:"absolute -bottom-12 w-full flex gap-3 items-center justify-center",children:[n("div",{className:"flex flex-col w-full items-center justify-center gap-1",children:[n(R,{Icon:w,value:e.armor,color:"#2B78FC"}),n(P,{Icon:x,value:e.health,color:"#06CE6B",maxValue:100})]}),i&&n(v,{children:n("div",{className:"absolute bottom-1 -right-24 gap-2 flex items-center",children:["boolean"==typeof e.mic&&!0===e.mic?n(P,{Icon:g,value:e.mic?100:0,color:"#FFFF00",vertical:!0}):"number"==typeof e.voice?n(P,{Icon:g,value:e.voice,color:"#ffffff",vertical:!0}):null,n(P,{Icon:b,value:e.hunger,color:"#FB8607",vertical:!0}),n(P,{Icon:N,value:e.thirst,color:"#2B78FC",vertical:!0}),"number"==typeof e.stress&&e.stress>0&&n(P,{Icon:_,value:e.stress,color:"#FE2436",vertical:!0})]})})]})})})})}));async function D(e,t,l){if(F())return await new Promise((e=>e));const a={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(t)},s=window.GetParentResourceName?window.GetParentResourceName():"nui-frame-app",r=await fetch(`https://${s}/${e}`,a);return await r.json()}if(F()){const e=document.body;e.style.backgroundImage='url("https://images.hdqwalls.com/download/dodge-charger-srt-hellcat-enforcer-n1-3840x2400.jpg")',e.style.backgroundSize="cover",e.style.backgroundRepeat="no-repeat",L()}function H(){const[e,l]=y(!0),a=m(J),[r,o]=s(V);return B("state::visibility::app::set",(t=>{const a="toggle"===t?!e:t;l(a),D("state::visibility::app::sync",a),L()})),t((()=>{D("APP_LOADED").then((e=>{var t;t=e.config.debug??!1,C=t,a(e.minimap),o(e.config.compassLocation)})).catch((e=>{})).finally((()=>{L()}))}),[]),e?n(v,{children:[n(z,{}),n(O,{}),"hidden"!==r&&n(v,{children:n(W,{})})]}):(L(),n(v,{}))}k(n(H,{}),document.getElementById("app"));
